<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./main.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ol@v8.1.0/ol.css">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/ol@v8.1.0/dist/ol.js"></script>
    <script src="https://kit.fontawesome.com/25046d3d52.js" crossorigin="anonymous"></script>
    <script src="prac.js" src="main-modal.js"></script>

    <title>Main</title>
    <style>
        .b {
            border: 1px solid black;
        }

        .map {
            height: 800px;
            width: 100%;
        }
    </style>
</head>

<body>
    <div class="container mt-5">
        <div class="row">
            <div class="info-view col-md-5 frame text-center" style="background-color: #F2EFEC;">
                <div class="title container">
                    <div class="row">
                        <img src="./yongin-logo.png" class="img-fluid col-3">
                        <h5 class="col-9 my-auto">용인시 청소차 관제 시스템</h5>
                    </div>
                </div>
                <div class="map-type container p-md-2">
                    <div class="row">
                        <div class="col-3 b">지도유형</div>
                        <div class="col-3 b">기본</div>
                        <div class="col-3 b">위성</div>
                        <div class="col-3 b">하이브리드</div>
                    </div>
                </div>
                <div class="local container p-md-2">
                    <div class="row">
                        <div class="col b">권역(구)</div>
                        <div class="col b">처인구</div>
                        <div class="col b">기흥구</div>
                        <div class="col b">수지구</div>
                    </div>
                </div>
                <div class="car container p-md-2">
                    <div class="row">
                        <div class="col-3 b">차량</div>
                        <div class="col-9 b">
                            <select name="car_num" class="col-12">
                                <option value="car_num" class="text-center">103하2414</option>
                                <option value="car_num" class="text-center">114하6585</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="stats-data">
                    <table class="table table-bordered">
                        <tbody>
                            <tr>
                                <th class="w-25">날짜</th>
                                <td>Calendar</td>
                            </tr>
                            <tr>
                                <th class="w-25">운행시간</th>
                                <td>HH:mm:ss</td>
                            </tr>
                            <tr>
                                <th class="w-25">청소비율</th>
                                <td>0%</td>
                            </tr>
                            <tr>
                                <th class="w-25">총 운행거리</th>
                                <td>0 Km</td>
                            </tr>
                            <tr>
                                <th class="w-25">유효 운행거리</th>
                                <td>0 Km</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="container-fluid">
                    <div class="row">
                        <button id="add-data-btn" type="button" class="btn mt-2"
                            style="background-color:#293661; color:white;">데이터 추가</button>

                        <!-- 데이터 추가 modal -->
                        <div class="modal fade" id="add-data-modal" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title offset-1">데이터 추가</h5>
                                    </div>
                                    <div class="modal-body">


                                        <form class="form-group">
                                            <div class="contianer">
                                                <div class="row">
                                                    <div class="offset-2 col-9">
                                                        <input id="gps-csv" filestyle="" type="file"
                                                            data-class-button="btn btn-default" data-class-input="form-control"
                                                            data-button-text="" data-icon-name="fa fa-upload" class="form-control"
                                                            tabindex="-1" style="position: absolute; clip: rect(0px 0px 0px 0px);">
                                                            
            
                                                        <div class="bootstrap-filestyle input-group">
                                                            <input type="text" id="gpsfile" class="form-control" name="gpsfile"
                                                                disabled="">
                                                            <span class="group-span-filestyle input-group-btn" tabindex="0">
                                                                <label for="gps-csv" class="btn btn-default">
                                                                    <i class="fa-solid fa-upload"></i>
                                                                </label>
                                                            </span>
                                                        </div>
                                                        <div class="text-start">※ 위치 gps.csv</div>
                                                    </div>
                                                    <div class="offset-2 col-9 mt-4">
                                                        <input id="noise-csv" filestyle="" type="file"
                                                            data-class-button="btn btn-default" data-class-input="form-control"
                                                            data-button-text="" data-icon-name="fa fa-upload" class="form-control"
                                                            tabindex="-1" style="position: absolute; clip: rect(0px 0px 0px 0px);">
            
                                                        <div class="bootstrap-filestyle input-group">
                                                            <input type="text" id="noisefile" class="form-control" name="noisefile"
                                                                disabled="">
                                                            <span class="group-span-filestyle input-group-btn" tabindex="0">
                                                                <label for="noise-csv" class="btn btn-default">
                                                                    <i class="fa-solid fa-upload"></i>
                                                                </label>
                                                            </span>
                                                        </div>
                                                        <div class="text-start">※ 소음 noise.csv</div>
                                                    </div>
                                                    <div class="offset-2 col-9 mt-4">
                                                        <input id="rpm-csv" filestyle="" type="file"
                                                            data-class-button="btn btn-default" data-class-input="form-control"
                                                            data-button-text="" data-icon-name="fa fa-upload" class="form-control"
                                                            tabindex="-1" style="position: absolute; clip: rect(0px 0px 0px 0px);">
            
                                                        <div class="bootstrap-filestyle input-group">
                                                            <input type="text" id="rpmfile" class="form-control" name="rpmfile"
                                                                disabled="">
                                                            <span class="group-span-filestyle input-group-btn" tabindex="0">
                                                                <label for="gps-csv" class="btn btn-default">
                                                                    <i class="fa-solid fa-upload"></i>
                                                                </label>
                                                            </span>
                                                        </div>
                                                        <div class="text-start">※ 진동 rpm.csv</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="register btn"
                                            style="background-color: #bd445b; color:white;">등록</button>
                                        <button type="button" class="cancel btn"
                                            style="background-color: #bd445b; color:white;">취소</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-7 map-view b">
                <div id="map" class="map"></div>
            </div>
        </div>

    </div>
    <script>
        $('#add-data-btn').click(function (e) {
            e.preventDefault();
            $('#add-data-modal').modal("show");
        });
    </script>

    
    <script type="text/javascript">

        // ****** gps-csv
        $(document).ready(function () {
            $("#gps-csv").on('change', function () {  // 값이 변경되면
                if (window.FileReader) {  // modern browser
                    var filename = $(this)[0].files[0].name;
                } else {  // old IE
                    var filename = $(this).val().split('/').pop().split('\\').pop();  // 파일명만 추출
                }

                // 추출한 파일명 삽입
                $("#gpsfile").val(filename);
            });
        });

        // ****** noise-csv
        $(document).ready(function () {
            $("#noise-csv").on('change', function () {  // 값이 변경되면
                if (window.FileReader) {  // modern browser
                    var filename = $(this)[0].files[0].name;
                } else {  // old IE
                    var filename = $(this).val().split('/').pop().split('\\').pop();  // 파일명만 추출
                }

                // 추출한 파일명 삽입
                $("#noisefile").val(filename);
            });
        });

        // ****** rpm-csv
        $(document).ready(function () {
            $("#rpm-csv").on('change', function () {  // 값이 변경되면
                if (window.FileReader) {  // modern browser
                    var filename = $(this)[0].files[0].name;
                } else {  // old IE
                    var filename = $(this).val().split('/').pop().split('\\').pop();  // 파일명만 추출
                }

                // 추출한 파일명 삽입
                $("#rpmfile").val(filename);
            });
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>